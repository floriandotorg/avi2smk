#include <string>
#include <sstream>
#include <vector>

#include "util.hpp"

#include <iostream>

void test_pack() {
    std::stringstream ss;
    auto bitstream = smk::encoder::bitstream(ss);
    auto tree = smk::encoder::huffman_tree<uint8_t>(bitstream);

    tree._root = std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{
        std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{
            std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{
                std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 3, 0 }),
                std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{
                    std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 4, 0 }),
                    std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 5, 0 }),
                    {},
                    0
                }),
                {},
                0
            }),
            std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 6, 0 }),
            {},
            0
        }),
        std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{
            std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 7, 0 }),
            std::make_unique<smk::encoder::huffman_tree<uint8_t>::node>(smk::encoder::huffman_tree<uint8_t>::node{ nullptr, nullptr, 8, 0 }),
            {},
            0
        }),
        {},
        0
    });

    tree.pack();
    bitstream.flush();

    std::stringstream result;
    smk::decoder decoder(ss, true);
    decoder._init_bitstream();
    for (size_t n = 0; n < 12; ++n) {
        const auto bit = decoder._bitstream_read_bit();
        if (bit == 0) {
            result << "0 " << static_cast<unsigned int>(decoder._bitstream_read_byte()) << " ";
        } else {
            result << "1 ";
        }
    }

    expect_eq(result.str(), "1 1 1 1 0 3 1 0 4 0 5 0 6 1 0 7 0 8 ");
    expect_eq(decoder._bitstream_read_bit(), 0);
}

void test_decode8() {
    std::string text = "Everyone is entitled to all the rights and freedoms set forth in this Declaration, without distinction of any kind, such as race, colour, sex, language, religion, political or other opinion, national or social origin, property, birth or other status. Furthermore, no distinction shall be made on the basis of the political, jurisdictional or international status of the country or territory to which a person belongs, whether it be independent, trust, non-self-governing or under any other limitation of sovereignty.";

    // add all possible characters to the text
    for (size_t n = 0; n < 256; ++n) {
        text.push_back(static_cast<char>(n));
    }

    std::stringstream ss;
    auto bitstream = smk::encoder::bitstream(ss);

    auto huffman_tree = smk::encoder::huffman_tree<char>(bitstream);

    for (const auto &c : text) {
        huffman_tree.write(c);
    }

    huffman_tree.switch_to_write_mode();

    huffman_tree.pack();

    for (const auto &c : text) {
        huffman_tree.write(c);
    }

    bitstream.flush();

    smk::decoder decoder(ss, true);
    decoder._init_bitstream();
    const auto huff8 = decoder._build_hoff8();

    for (const auto &c : text) {
        expect_eq(decoder._lookup_hoff8(huff8), static_cast<uint8_t>(c));
    }
}

void test_decode16() {
    constexpr uint16_t text[] = {0x3,0x17,0x17,0x1f,0x23,0x3323,0x27,0x2f,0x23,0x2f,0x23,0xb204,0xb203,0x2c17,0x2013,0x1007,0x7,0x170b,0x170b,0x332f,0x2007,0x160b,0x160b,0x1f,0x1753,0x1a03,0x1007,0x1f,0x1703,0x1b13,0x5213,0x250b,0x1b0f,0x1a0b,0x1f,0x1923,0x6d13,0x140f,0x1017,0x13,0x1307,0x1a0b,0x310f,0x7803,0x7803,0x9c13,0x1a03,0x131b,0x17,0x1407,0x1403,0x170f,0x7803,0x7803,0x7813,0x1a07,0x131b,0x7,0x130b,0x1303,0x1a17,0x7813,0x780f,0xf07,0x130f,0x1a07,0x7,0x1a0b,0x1303,0x1303,0x131b,0x7803,0x790f,0x1b07,0x1a07,0x100b,0x17,0x1303,0x1323,0x7803,0x770b,0x1303,0x1303,0x1a07,0x1003,0x7,0x130b,0x1303,0x1303,0x130f,0x7307,0xb,0x6c0b,0x1303,0x130b,0x130f,0x7,0x130b,0x1303,0x1303,0x140f,0x7803,0x990b,0x7817,0x1303,0x1303,0x1307,0x1b,0x231f,0x8d03,0x8d07,0x730f,0xf07,0x130b,0x100b,0x1107,0x1113,0x2e17,0x7803,0x7843,0x110f,0x1903,0x1907,0x1c17,0x6d03,0x5813,0x1a07,0x131b,0x1703,0x1903,0x1c03,0x1c03,0x1c03,0x3e17,0x13,0x2007,0x101f,0x1813,0x180b,0x322b,0xb207,0x131f,0x1803,0x1c07,0x180b,0x2d2f,0xb10b,0x1307,0x130b,0x180b,0x1c07,0x2153,0x6107,0x713,0x1c23,0x5137,0x180f,0x3203,0x3c17,0x217,0xbc03,0x2007,0xf07,0x2713,0x3917,0x333,0x1f0f,0x4a17,0x323,0xbb07,0x72b,0x5f27,0x23,0x317,0x510b,0xb17,0x31b,0x1203,0xd07,0xe0b,0x470b,0x217,0x207,0x303,0x307,0x510b,0xe03,0x303,0x7223,0x7903,0x7303,0x7c03,0x3b07,0x2c07,0x8707,0x7f03,0x7f03,0x7f1b,0x770f,0x2b,0x7f03,0x7f03,0x7f03,0x7913,0x7903,0x730b,0xb,0x5013,0x790b,0x7f03,0x7f03,0x7917,0x790f,0xb,0x502b,0x7f03,0x7913,0x9d0b,0x37,0x7f03,0x7f17,0x7313,0xb,0x4423,0x7f03,0x7f03,0x7917,0x7303,0x7307,0x7,0x870f,0x9f0b,0x980f,0x7f1b,0x7303,0x7307,0x5f0f,0x13,0x7f03,0x7f17,0x7303,0x7303,0xd03,0xd0b,0x7c1b,0x640b,0xb,0x9b1b,0xd03,0xa20b,0x13,0x207,0x1b07,0xf0f,0x31b,0x41f,0x17,0x70f,0x8d23,0x3307,0x364b,0x1f03,0x3403,0x401b,0x323,0xbd07,0xb,0x1f07,0x400f,0xf0b,0x8d1f,0xb70f,0xb,0x1f07,0x403b,0xb703,0xb70f,0x1f03,0x1d03,0x2603,0x3407,0x3c13,0x21f,0xb717,0xe07,0x1f4f,0xb71f,0x7,0x1f03,0x1d03,0x2c03,0x2a1f,0x5733,0x90b,0x1d57,0xc01b,0x5b,0xb907,0xc103,0xc10f,0x7,0x1103,0x1d33,0x641f,0x1a1f,0x1b,0x1703,0x1763,0xb,0x1a17,0x1117,0x8b07,0x7013,0x1a03,0x1a1f,0x7,0x220f,0x1a1f,0x7b2b,0x1903,0x2217,0x7,0x1913,0x1907,0x210b,0x8b13,0x7f0f,0x1903,0x2203,0x220f,0x7,0x1a0b,0x190b,0x191b,0x1b,0x190b,0x2217,0x7,0x1a0b,0x1903,0x2207,0x17,0x7b13,0x1903,0x2217,0x7,0x1a0b,0x1a03,0x2207,0x117,0xb,0x730b,0x1903,0x2203,0x1903,0x190f,0x17,0x1a03,0x220b,0x1407,0x8b0f,0x8b13,0x220b,0x2207,0x190b,0x1a23,0x2613,0x8b03,0x8b1f,0x1903,0xc007,0xc0b,0x110f,0x1703,0x2603,0x1d03,0x1c13,0x7f27,0x1917,0x1f,0x2607,0x3917,0x610b,0x221b,0x190f,0x1117,0x1f37,0x220f,0x2217,0x407,0x1d03,0x1d03,0x2607,0x373b,0x190f,0x1d03,0x1d63,0x1907,0x1d03,0x1d47,0xb713,0xf07,0x33,0x37,0x7,0x2a03,0x3b1b,0x33,0xf,0x4617,0x2b,0x23,0x13,0x510f,0x5317,0x1f,0xf,0x10f,0xb,0x9403,0x7,0x303,0x5907,0x7,0x203,0x1223,0x307,0xb,0x13,0x8503,0x850b,0xad0f,0x6f0b,0x7,0x8323,0x8503,0x8503,0x850b,0xad07,0x6f03,0x6f0b,0x33,0x8503,0x8503,0x7007,0x9f07,0x6f03,0x6f0b,0xb,0x9427,0x8503,0x850b,0x9f0f,0x6f0b,0x33,0x8503,0x8503,0x7007,0x9f13,0x8437,0x8503,0x6f03,0x6f13,0x6f03,0x17,0xa90f,0x3503,0x8407,0x8417,0x6f0b,0x7d0f,0xb,0x8503,0x851f,0x6f0b,0x303,0x203,0x6333,0xf,0x590f,0x23,0x7,0x460f,0xf,0x17,0x1b17,0x3c1b,0xd27,0x1b,0x8607,0xd03,0x8627,0x2f,0xb03,0x862f,0x1313,0x3f1f,0x8633,0x507,0x280f,0x3f13,0x120b,0x8f1f,0x220b,0x130b,0x2703,0x281f,0x1203,0x121b,0xae0b,0x500b,0xb07,0x1d03,0x2a03,0x2803,0x3313,0x124b,0x13,0x1d07,0x2b0b,0x7113,0x2613,0x2b03,0xb603,0x160f,0xd17,0x1d3f,0x2b0f,0x161b,0x17,0x2507,0x111f,0x231b,0x1403,0x1603,0x1603,0x160f,0x1b,0x140b,0x1d33,0x1417,0x220f,0x7,0x1613,0x1103,0x1117,0x7d03,0x7d17,0x1603,0x161f,0x7,0x220b,0x1603,0x191b,0x740f,0x7d0f,0x2207,0x161b,0x7,0x160b,0x1603,0x1607,0x90f,0xb,0x680f,0x1903,0x1603,0x1613,0x17,0x1603,0x1907,0xb17,0x7d03,0x750f,0x1613,0x100b,0x17,0x1603,0x1907,0x40b,0x7d0b,0x7317,0x2207,0x220f,0x1007,0x1013,0x1007,0x2527,0x740f,0x2207,0x1903,0x1903,0x100b,0x1613,0x1407,0x1d03,0x2013,0x7403,0x660f,0x190b,0x1903,0x190f,0x1103,0x140b,0x2507,0x1d1b,0x5917,0x190b,0x1903,0xf0b,0xc07,0x2507,0x1d03,0x2a03,0x282b,0x2207,0x220b,0x190b,0xb07,0x2007,0x2a03,0x282f,0xae1b,0x7,0x250b,0x4333,0xb40f,0x1907,0xb,0x281f,0xc1b,0xae07,0xbd07,0x2807,0x3617,0x1f,0xac07,0x3f1b,0x13,0x4b0b,0x13,0x13,0x9d0f,0x5c0f,0xd03,0xd0b,0x9d07,0xb,0x13,0x7f03,0x7f07,0x6913,0x620b,0xb,0x7807,0x4b0f,0x8003,0x7f0b,0x6903,0x690b,0x6207,0x6907,0xb,0x991f,0x8003,0x8007,0x6903,0x690f,0x8903,0x6907,0xb,0x4423,0x8027,0x8903,0x6907,0x2b,0x8b0f,0x7b07,0x890b,0x620b,0x3f,0x7a07,0x8923,0x7,0x810b,0x9f0b,0x8013,0x3217,0x8903,0x890b,0x7f0f,0x340f,0x802f,0x8903,0x6907,0xd03,0xb72f,0x690f,0xb07,0x3b17,0x670b,0x6213,0xd07,0x13,0x3f,0x727,0x1f,0x690b,0xf0f,0x3d1b,0x7e33,0xf,0x2f0b,0x3d1b,0x2b,0xb10f,0xf07,0x160b,0x2f23,0x11f,0xaf0b,0x1e0f,0x30f,0x1a03,0x2507,0x2f1b,0x711b,0xb10f,0x1213,0x7,0x1613,0x1a0b,0x2f37,0x2407,0x1e0f,0x7,0x120f,0x160b,0x1a17,0x7917,0x2413,0x1317,0x1203,0x1e1f,0x170b,0x7d0f,0x7d03,0x3e0f,0x2003,0x2003,0x1317,0x1203,0x1e0f,0x130b,0x117,0xb,0x780f,0x2003,0x2007,0x1e0f,0x1207,0x1e07,0x1303,0x2403,0x2a0f,0x7d03,0x7907,0x7d0f,0xba0b,0x1e0b,0xa07,0x7,0x240b,0x1627,0x4f13,0x1213,0x1e03,0xc07,0x7,0x160f,0x253f,0xba03,0xba03,0xba0b,0x196b,0x180f,0x4513,0x1b,0xb70b,0x5e13,0xf,0x4107,0xa007,0x13,0x180b,0x4107,0x203,0x1f17,0xb,0x8407,0x8103,0x800f,0x8107,0x4f23,0xb,0x7e23,0x7e07,0x8117,0x7213,0x7,0x8217,0x520b,0x7f07,0x8f17,0x4f07,0x4f07,0x3f,0x921b,0x7203,0x4f07,0x3b,0x811f,0x720f,0x7,0x882f,0x8107,0x520f,0x4f07,0x5207,0x9123,0x8a0b,0x811b,0x4f13,0x213,0x811b,0x4f0b,0x20f,0x8803,0x7817,0x4f13,0xf,0x10b,0x7803,0x781f,0xf,0x151f,0x180f,0x32b,0x291f,0x1013,0x1c03,0x1c03,0x3623,0x561b,0x1c03,0x1c03,0x1c13,0x500f,0x5f0f,0x17,0x1523,0x107,0x13,0x50b,0x4307,0x5603,0x5a0f,0x5613,0x3f13,0x830b,0x4407,0x4403,0x5603,0x5a0f,0x5613,0x2f,0x3f13,0x5a0f,0x560b,0x37,0x420b,0x5b0f,0x5603,0x70b,0x33,0x3f07,0x5603,0x5a0f,0x1303,0x70b,0x5b,0x5607,0x5607,0x27,0x6213,0xb17,0x5613,0x4327,0x5c07,0x440b,0x560b,0x5613,0x7033,0x5607,0xb07,0x13,0x127,0x607,0x603,0x270b,0x7,0x603,0x507,0x1f,0x270b,0x607,0x2703,0x703,0x7,0x713,0xd03,0x603,0x507,0x607,0x2707,0x703,0x703,0x707,0x1003,0xb03,0x707,0xb03,0xc07,0x1f0f,0x107,0x703,0x703,0x703,0x703,0x703,0x70b,0xb,0xb03,0xb03,0xb03,0xb03,0x40b,0xe07,0x207,0x30b,0x703,0x703,0x703,0x703,0x707,0xb,0xb03,0xb03,0xb03,0xb03,0x50f,0x1b,0x703,0x703,0x703,0x703,0x707,0xb,0xb03,0xb03,0xb07,0x703,0x50b,0x20f,0x80b,0x703,0x703,0x703,0x703,0x703,0x107,0x707,0xb07,0x703,0x703,0x703,0x270f,0x13,0x703,0x703,0x703,0x703,0x703,0xf,0x703,0x70b,0x71b,0x13,0x703,0x703,0x703,0x703,0x207,0x117,0x707,0xd07,0x607,0x7,0x607,0x2703,0x703,0xc0f,0xf,0xd03,0x707,0x603,0x507,0xb,0x717,0x913,0x603,0xb,0x80f,0x23,0xe17,0x2913,0xb,0x1407,0x13,0x3d07,0x6203,0xf0b,0x1f,0x191b,0x1b0f,0x13,0x3903,0x301f,0x1b0f,0x2f,0x3903,0x3923,0x1b0f,0x7,0x3323,0x3903,0x3937,0x3f,0x1917,0x6207,0xf07,0x2f,0x2c17,0x620f,0x3c07,0xb,0x493b,0x620f,0xf03,0xf07,0xb,0x371b,0x5e1b,0x620f,0xf03,0x6207,0x3613,0x141b,0x1903,0x6223,0x17,0x2913,0x7,0x2807,0x7,0x203,0x13,0x207,0x1b,0x70b,0x617,0x20b,0x2207,0x1b03,0xe27,0x280f,0x713,0x1f,0x270b,0x1f,0x707,0x7,0x703,0x72b,0xb,0x2a0b,0x607,0x60f,0x7,0x62f,0x2e1f,0x1f07,0x717,0x7,0x703,0x703,0x713,0x2b,0x703,0x703,0x717,0x7,0x703,0x703,0x703,0x703,0x70f,0x1d03,0x1d03,0x1e03,0x2d0b,0x70b,0x607,0x70b,0xb,0x703,0x703,0x703,0x703,0x217,0x1f,0x703,0x703,0x703,0x70b,0xb,0x703,0x703,0x703,0x71f,0x1e03,0x2b0f,0x703,0x703,0x703,0x703,0xb,0x703,0x703,0x703,0x703,0x223,0x2913,0x1f03,0x1f07,0x703,0x707,0xb,0x703,0x703,0x733,0x170b,0x703,0x70b,0x703,0x703,0x7,0x703,0x703,0x703,0x60b,0x72b,0x703,0x1f03,0x60f,0x70b,0xb,0x703,0x1f03,0x1f23,0x13,0x703,0x703,0x703,0x713,0xb,0x70b,0x723,0x1f,0x703,0x70b,0x1907,0x307,0x703,0x61b,0x103,0x1a1f,0x703,0xe0f,0xb,0x633,0xf,0x2227,0xd23,0x907,0x1a33,0x1307,0x627,0x1a03,0x2f0b,0x2203,0x1f0f,0x2f,0x1a0b,0x2203,0x1607,0x240b,0x40b,0x107,0x203,0x2a13,0xf,0x2803,0x7,0x190b,0x120f,0x13,0xf,0xf,0x1f,0x2403,0x17,0x140b,0x411b,0x2413,0x17,0x4103,0x4103,0x6c17,0x7413,0x827,0x4103,0x4203,0x6c17,0x2413,0x3e1f,0x4103,0x420b,0x4c23,0x7407,0x33,0x4203,0x420b,0x740b,0x7403,0x2403,0x37,0x4203,0x951b,0x740f,0xb,0x514f,0x7413,0x17,0x600b,0x170b,0x4b1f,0x2413,0x7,0x401b,0x462f,0x420b,0x817,0x13,0xb,0x113,0x7,0x1d03,0x13,0x1d07,0x23,0x207,0x70b,0x2007,0x1f,0x160f,0x713,0xf,0x1e13,0x27,0x107,0x107,0x211b,0x7,0xd2b,0x2017,0x803,0x107,0x33,0x1b,0x713,0x103f,0x17,0x703,0x717,0x7,0xc0f,0x81b,0x501b,0x703,0xc03,0x803,0x507,0x27,0x837,0x70b,0xc07,0x1407,0xb,0xc03,0xc03,0xc0f,0x13,0x3a17,0xc03,0x60f,0x907,0xb,0xc03,0xc03,0xc03,0xc1b,0x3a03,0x4a2f,0x80b,0x17,0xc03,0xc03,0xc13,0x390f,0x4a0f,0xc0b,0xc03,0xc0f,0xf,0xc03,0xc03,0xc17,0x3807,0xb,0x380f,0x80f,0xc0f,0xf,0xc03,0xc03,0xc07,0xb,0x5607,0x4a07,0x690b,0xc03,0xc03,0xc03,0x803,0x7,0xc03,0xc03,0xc03,0xc07,0xb,0x4a07,0xb,0x350b,0xc03,0xc17,0xb,0xc03,0xc03,0xc03,0x907,0x330b,0x4a03,0x4a03,0x4a03,0x2b17,0xc03,0xc03,0x803,0x17,0xc03,0xc1f,0x4a03,0x4a03,0x3417,0xc0b,0xc0f,0xb,0x907,0xc03,0xc03,0xc03,0x83b,0x61f,0x803,0xc03,0x807,0xc03,0xc2f,0x807,0x713,0x803,0xf,0xc03,0x80f,0x617,0x1b,0x70b,0x803,0x807,0xb,0x807,0xc23,0x27,0xd07,0xb07,0x803,0xd1b,0x1b0b,0x501f,0x803,0x803,0xf07,0x1107,0x1627,0x17,0x81b,0x32b,0x107,0x7,0xb1b,0xc07,0x1603,0x803,0x707,0xb0b,0x5013,0xc03,0x80b,0xd07,0x190b,0x1d03,0x107,0x5013,0x1e03,0xa0b,0x2b,0x5003,0x501b,0x1713,0x200b,0x501f,0x13,0x107,0x10f,0x17,0x17,0x1b,0x860f,0x1b,0x1b,0x4a03,0x6417,0x451b,0x4a13,0x13,0x4503,0x451b,0x4a13,0x3d0f,0x4607,0x4503,0x4503,0x451b,0x4a0b,0x7,0x4823,0x4503,0x4503,0x4a17,0x4a03,0x3407,0x4033,0x4423,0x3a07,0x1b,0x5d17,0x3e03,0x4c07,0x4a0b,0x4a03,0x4a03,0x3f,0x4d1f,0x4a03,0xb,0x5d2f,0x4013,0x4a03,0x4a13,0x4107,0x3e0b,0x6d0f,0x742b,0x510f,0x4513,0x7,0x631f,0x1f,0x13,0x7,0x107,0x1b,0x7,0x10f,0x17,0x3207,0x1b,0x1e17,0x3507,0x13,0x260b,0x1f,0x3207,0xf,0x3413,0xf,0x1f03,0xc13,0xf,0x2f17,0xf,0x603,0x1f1b,0x3507,0x3413,0xb2f,0x1f,0x80f,0x11b,0x613,0x17,0x613,0xb,0x80b,0x200f,0x40b,0x2a2f,0x10f,0x613,0xc17,0x2a17,0x60f,0x803,0x807,0xb,0x607,0x723,0x113,0x707,0x703,0x703,0x613,0x7,0x907,0x703,0x643,0x703,0x703,0x613,0x13,0x907,0x71b,0x531f,0x607,0x71b,0xb,0xf07,0x903,0x723,0x5303,0x5303,0x3a13,0x703,0x703,0x90f,0xb,0xf07,0x903,0x903,0x70f,0x5313,0x531b,0x703,0x713,0x7,0x903,0x903,0x903,0x917,0x4e07,0x5303,0x5117,0x703,0x707,0x807,0xb,0x903,0x903,0x707,0x70f,0x6d07,0x5303,0x5213,0x703,0x703,0x903,0x807,0xb,0xf07,0x903,0x907,0xb,0x5307,0xb,0x4f0b,0x703,0x703,0x703,0x903,0xb07,0x17,0x903,0x903,0x90f,0x6703,0x6d0b,0x531b,0x71b,0x17,0x903,0x703,0x713,0x6703,0x6707,0x4f0f,0x703,0x703,0x703,0x90f,0x1217,0x261f,0x5303,0x531b,0x703,0x703,0x713,0x903,0x1b57,0x703,0x703,0x703,0x60b,0x2f,0xc0f,0x170f,0x703,0x703,0x717,0x1503,0x1b37,0x17,0x703,0x607,0x803,0x27,0x1613,0x6a17,0x703,0x813,0x1503,0x1503,0x1503,0x1523,0x17,0x607,0x707,0xf,0x2207,0x1b07,0x1707,0x1103,0x1f,0x507,0x2307,0x150f,0x1307,0x1003,0x1103,0x6a03,0x417,0x2b07,0x2407,0x1517,0x1003,0x1007,0x23,0x2913,0x1303,0x1807,0x1003,0x111b,0x2603,0x250f,0x3107,0x1c07,0x1007,0x2a03,0x217,0x13,0x130f,0x100f,0x320b,0x1b,0x1003,0x110b,0x1c0b,0x1003,0x1107,0x800f,0x1113,0x13,0x13,0x7,0x1c0f,0x5d1b,0x4d0f,0x5507,0x5e03,0x5e03,0x5d1b,0x4d13,0x7,0x5d1f,0x5e03,0x5e03,0x591b,0x4d13,0x2f,0x5e03,0x5d07,0x4413,0x4d13,0x43,0x8f13,0x4603,0x4d03,0x43,0x4407,0x4307,0x4d13,0x2b,0x4e2f,0x4b03,0x4d07,0x17,0x8c0f,0x5e2f,0x4d03,0x4d0b,0x5607,0x7d2f,0x5e1b,0x4d07,0x5c07,0x7,0x1c03,0x1813,0x5103,0x5103,0x5103,0x510b,0x13,0x207,0x1a07,0x1a0f,0x323,0x307,0x20b,0xf,0x350f,0x417,0x4b0f,0x2a07,0x3003,0x3517,0x203,0x213,0x3a07,0x2b03,0x270f,0x1f13,0x203,0x213,0xaa0f,0x10b,0x2203,0x1d07,0x3b0f,0x203,0x207,0x4307,0xaa17,0xb,0x2203,0x210f,0x60b,0x203,0x213,0xaa0f,0x2207,0x2203,0x2207,0x3513,0x203,0x217,0x3807,0x140f,0x2307,0x2203,0x2207,0x210f,0x407,0x203,0x4403,0x4307,0x3813,0x140b,0x7,0x1d07,0x2217,0x400b,0x207,0x440b,0x380b,0x1813,0x1a07,0x1207,0x1d07,0x1103,0x3413,0x103,0x440b,0x3807,0x151f,0x1f,0x2d03,0x251b,0x440f,0x1513,0x1b13,0x7,0x1203,0x122f,0x507,0x1b03,0x1807,0x1503,0x1b13,0x407,0x125b,0x1823,0x43,0x5b03,0x5733,0x140b,0x1f,0x201b,0x5703,0x5717,0x140f,0x1b17,0x3b,0x6647,0x1307,0xb,0x120f,0x2007,0x17,0xb,0x560b,0x201b,0x1407,0xb,0x1407,0x202b,0x5b03,0x572f,0x17,0x2003,0x2023,0x23,0x151f,0x17,0x2003,0x2003,0x200f,0x6603,0x5207,0x571f,0x141b,0x1407,0x200b,0x2027,0x6603,0x540f,0x1b27,0x1403,0x1453,0x1807,0x151b,0x2017,0x1503,0x1803,0x1523,0x1803,0x180b,0x1417,0x1403,0x1537,0x1f,0x1b0f,0x1433,0x23,0x1803,0x130b,0x70f,0x2913,0x710b,0x7103,0x72b,0x1303,0x2923,0x13,0x1507,0x1303,0x2d03,0x2d07,0x2e1b,0x7,0x707,0x3813,0x2e2b,0x7,0xc0f,0x1407,0xb,0x2f0b,0xd07,0x7,0xd17,0x13,0x4307,0x4407,0x3a0b,0xb,0x430b,0x113,0x103,0x103,0x9b07,0x9003,0x8807,0xb,0xb,0x8807,0x13,0xb,0x160f,0x6217,0x530b,0x107,0x611b,0x6203,0x6203,0x621f,0x530f,0x7,0x6227,0x6203,0x611f,0x580f,0x37,0x6223,0x580f,0x7,0x6823,0x6203,0xb623,0x530f,0xb,0x7e4b,0x4e13,0x2b,0x622f,0x4c03,0x4c07,0x1b,0x7b13,0x6b23,0x4d13,0xb,0x303,0x323,0x4c03,0x5303,0x403,0x31b,0x5407,0x5803,0x550f,0x207,0x1b,0x5803,0x550f,0x33,0x3017,0x1603,0x1603,0x1603,0x213,0x27,0x403,0x403,0x41f,0x1b,0x350b,0x403,0x1307,0x403,0x20b,0x340f,0x1d07,0x1a03,0x250b,0x4313,0x1007,0x413,0x190f,0x417,0x2717,0x1707,0x1003,0x130b,0x341b,0x1707,0x1b2f,0x1703,0xf03,0x100b,0xab1f,0x1307,0x1b03,0x1b27,0x1d07,0x1703,0x1707,0xab27,0x1b,0x1b07,0x2d0b,0x1d03,0x1d03,0x1d0f,0xab1f,0x1407,0x423,0x2003,0x1d0f,0x1e0f,0x3b03,0x252f,0x33,0x1d07,0x1f03,0x1f03,0x1e07,0x3b33,0xb,0xb7b,0x7,0x191f,0x2f13,0x5c1f,0x2317,0xb0f,0xb03,0xb03,0x1917,0x2f23,0x5c0f,0x2327,0x7,0xb07,0xb13,0x100b,0x5c07,0xb,0x590b,0x2003,0x917,0xb,0xb07,0x190f,0x1017,0x5613,0x2017,0xb0b,0xb,0x1903,0x1903,0xb0b,0x390b,0x5c0b,0x5517,0x90b,0x917,0xb23,0x2027,0x7007,0x202b,0xe07,0x190b,0x90f,0x417,0x582b,0xd0b,0xb03,0x1963,0x907,0x1207,0x23,0x250f,0x403,0x43b,0x7,0x1427,0x1603,0x1607,0x707,0x141f,0x7,0x1b03,0xd17,0x503,0x503,0x513,0x1417,0x27,0x7,0xe07,0x2e0f,0x1b,0x107,0x17,0x3d07,0x11b,0x17,0xb,0x8e0b,0x13,0xf,0x13,0x7,0x40f,0x7307,0x4b0b,0x17,0x6203,0x6203,0x6203,0x6203,0x2603,0x210b,0x4a0f,0x5d07,0x641b,0x6203,0x6203,0x621b,0x7313,0xf,0x7d1f,0x6203,0x6113,0x7307,0x510f,0xb,0x6327,0x6203,0x602f,0x5f,0x490f,0x2b,0x612b,0x4c13,0xb,0x781b,0x6c2f,0x730f,0x507,0x6107,0x42f,0x4c03,0x4c07,0x1303,0x131b,0x580b,0x4b03,0x5803,0x2b,0x5803,0x5803,0x580b,0x17,0x17,0x1f,0x23,0x3323,0x27,0x2f,0x23,0x6607,0x1213,0x4017,0x23,0xbc0b,0xe1b,0x4313,0x1b,0xb203,0xb20f,0x7,0x1b07,0x1e1f,0x1f,0xb20b,0x607,0x17,0x250b,0x670f,0x3b,0x807,0x1703,0x170b,0x331b,0x2c17,0x2013,0x1007,0x7,0x170b,0x170b,0x332f,0x2007,0x160b,0x160b,0x1f,0x1753,0x1a03,0x1007,0x1f,0x1703,0x1b13,0x5213,0x250b,0x1b0f,0x1a0b,0x1f,0x1923,0x6d13,0x140f,0x1017,0x13,0x1307,0x1a0b,0x310f,0x7803,0x7803,0x9c13,0x1a03,0x131b,0x17,0x1407,0x1403,0x170f,0x7803,0x7803,0x7813,0x1a07,0x131b,0x7,0x130b,0x1303,0x1a17,0x7813,0x780f,0xf07,0x130f,0x1a07,0x7,0x1a0b,0x1303,0x1303,0x131b,0x7803,0x790f,0x1b07,0x1a07,0x100b,0x17,0x1303,0x1323,0x7803,0x770b,0x1303,0x1303,0x1a07,0x1003,0x7,0x130b,0x1303,0x1303,0x130f,0x7307,0xb,0x6c0b,0x1303,0x130b,0x130f,0x7,0x130b,0x1303,0x1303,0x140f,0x7803,0x990b,0x7817,0x1303,0x1303,0x1307,0x1b,0x231f,0x8d03,0x8d07,0x730f,0xf07,0x130b,0x100b,0x1107,0x1113,0x2e17,0x7803,0x7843,0x110f,0x1903,0x1907,0x1c17,0x6d03,0x5813,0x1a07,0x131b,0x1703,0x1903,0x1c03,0x1c03,0x1c03,0x3e17,0x13,0x2007,0x101f,0x1813,0x180b,0x322b,0xb207,0x131f,0x1803,0x1c07,0x180b,0x2d2f,0xb10b,0x1307,0x130b,0x180b,0x1c07,0x2153,0x6107,0x713,0x1c23,0x5137,0x180f,0x3203,0x3c17,0x217,0xbc03,0x2007,0xf07,0x2713,0x3917,0x333,0x1f0f,0x4a17,0x323,0xbb07,0x72b,0x5f27,0x23,0x317,0x510b,0xb17,0x31b,0x1203,0xd07,0xe0b,0x470b,0x217,0x207,0x303,0x307,0x510b,0xe03,0x303,0x7223,0x7903,0x7303,0x7c03,0x3b07,0x2c07,0x8707,0x7f03,0x7f03,0x7f1b,0x770f,0x2b,0x7f03,0x7f03,0x7f03,0x7913,0x7903,0x730b,0xb,0x5013,0x790b,0x7f03,0x7f03,0x7917,0x790f,0xb,0x502b,0x7f03,0x7913,0x9d0b,0x37,0x7f03,0x7f17,0x7313,0xb,0x4423,0x7f03,0x7f03,0x7917,0x7303,0x7307,0x7,0x870f,0x9f0b,0x980f,0x7f1b,0x7303,0x7307,0x5f0f,0x13,0x7f03,0x7f17,0x7303,0x7303,0xd03,0xd0b,0x7c1b,0x640b,0xb,0x9b1b,0xd03,0xa20b,0x13,0x207,0x1b07,0xf0f,0x31b,0x41f,0x17,0x70f,0x8d23,0x3307,0x364b,0x1f03,0x3403,0x401b,0x323,0xbd07,0xb,0x1f07,0x400f,0xf0b,0x8d1f,0xb70f,0xb,0x1f07,0x403b,0xb703,0xb70f,0x1f03,0x1d03,0x2603,0x3407,0x3c13,0x21f,0xb717,0xe07,0x1f4f,0xb71f,0x7,0x1f03,0x1d03,0x2c03,0x2a1f,0x5733,0x90b,0x1d57,0xc01b,0x5b,0xb907,0xc103,0xc10f,0x7,0x1103,0x1d33,0x641f,0x1a1f,0x1b,0x1703,0x1763,0xb,0x1a17,0x1117,0x8b07,0x7013,0x1a03,0x1a1f,0x7,0x220f,0x1a1f,0x7b2b,0x1903,0x2217,0x7,0x1913,0x1907,0x210b,0x8b13,0x7f0f,0x1903,0x2203,0x220f,0x7,0x1a0b,0x190b,0x191b,0x1b,0x190b,0x2217,0x7,0x1a0b,0x1903,0x2207,0x17,0x7b13,0x1903,0x2217,0x7,0x1a0b,0x1a03,0x2207,0x117,0xb,0x730b,0x1903,0x2203,0x1903,0x190f,0x17,0x1a03,0x220b,0x1407,0x8b0f,0x8b13,0x220b,0x2207,0x190b,0x1a23,0x2613,0x8b03,0x8b1f,0x1903,0xc007,0xc0b,0x110f,0x1703,0x2603,0x1d03,0x1c13,0x7f27,0x1917,0x1f,0x2607,0x3917,0x610b,0x221b,0x190f,0x1117,0x1f37,0x220f,0x2217,0x407,0x1d03,0x1d03,0x2607,0x373b,0x190f,0x1d03,0x1d63,0x1907,0x1d03,0x1d47,0xb713,0xf07,0x33,0x37,0x7,0x2a03,0x3b1b,0x33,0xf,0x4617,0x2b,0x23,0x13,0x510f,0x5317,0x1f,0xf,0x10f,0xb,0x9403,0x7,0x303,0x5907,0x7,0x203,0x1223,0x307,0xb,0x13,0x8503,0x850b,0xad0f,0x6f0b,0x7,0x8323,0x8503,0x8503,0x850b,0xad07,0x6f03,0x6f0b,0x33,0x8503,0x8503,0x7007,0x9f07,0x6f03,0x6f0b,0xb,0x9427,0x8503,0x850b,0x9f0f,0x6f0b,0x33,0x8503,0x8503,0x7007,0x9f13,0x8437,0x8503,0x6f03,0x6f13,0x6f03,0x17,0xa90f,0x3503,0x8407,0x8417,0x6f0b,0x7d0f,0xb,0x8503,0x851f,0x6f0b,0x303,0x203,0x6333,0xf,0x590f,0x23,0x7,0x460f,0xf,0x17,0x1b17,0x3c1b,0xd27,0x1b,0x8607,0xd03,0x8627,0x2f,0xb03,0x862f,0x1313,0x3f1f,0x8633,0x507,0x280f,0x3f13,0x120b,0x8f1f,0x220b,0x130b,0x2703,0x281f,0x1203,0x121b,0xae0b,0x500b,0xb07,0x1d03,0x2a03,0x2803,0x3313,0x124b,0x13,0x1d07,0x2b0b,0x7113,0x2613,0x2b03,0xb603,0x160f,0xd17,0x1d3f,0x2b0f,0x161b,0x17,0x2507,0x111f,0x231b,0x1403,0x1603,0x1603,0x160f,0x1b,0x140b,0x1d33,0x1417,0x220f,0x7,0x1613,0x1103,0x1117,0x7d03,0x7d17,0x1603,0x161f,0x7,0x220b,0x1603,0x191b,0x740f,0x7d0f,0x2207,0x161b,0x7,0x160b,0x1603,0x1607,0x90f,0xb,0x680f,0x1903,0x1603,0x1613,0x17,0x1603,0x1907,0xb17,0x7d03,0x750f,0x1613,0x100b,0x17,0x1603,0x1907,0x40b,0x7d0b,0x7317,0x2207,0x220f,0x1007,0x1013,0x1007,0x2527,0x740f,0x2207,0x1903,0x1903,0x100b,0x1613,0x1407,0x1d03,0x2013,0x7403,0x660f,0x190b,0x1903,0x190f,0x1103,0x140b,0x2507,0x1d1b,0x5917,0x190b,0x1903,0xf0b,0xc07,0x2507,0x1d03,0x2a03,0x282b,0x2207,0x220b,0x190b,0xb07,0x2007,0x2a03,0x282f,0xae1b,0x7,0x250b,0x4333,0xb40f,0x1907,0xb,0x281f,0xc1b,0xae07,0xbd07,0x2807,0x3617,0x1f,0xac07,0x3f1b,0x13,0x4b0b,0x13,0x13,0x9d0f,0x5c0f,0xd03,0xd0b,0x9d07,0xb,0x13,0x7f03,0x7f07,0x6913,0x620b,0xb,0x7807,0x4b0f,0x8003,0x7f0b,0x6903,0x690b,0x6207,0x6907,0xb,0x991f,0x8003,0x8007,0x6903,0x690f,0x8903,0x6907,0xb,0x4423,0x8027,0x8903,0x6907,0x2b,0x8b0f,0x7b07,0x890b,0x620b,0x3f,0x7a07,0x8923,0x7,0x810b,0x9f0b,0x8013,0x3217,0x8903,0x890b,0x7f0f,0x340f,0x802f,0x8903,0x6907,0xd03,0xb72f,0x690f,0xb07,0x3b17,0x670b,0x6213,0xd07,0x13,0x3f,0x727,0x1f,0x690b,0xf0f,0x3d1b,0x7e33,0xf,0x2f0b,0x3d1b,0x2b,0xb10f,0xf07,0x160b,0x2f23,0x11f,0xaf0b,0x1e0f,0x30f,0x1a03,0x2507,0x2f1b,0x711b,0xb10f,0x1213,0x7,0x1613,0x1a0b,0x2f37,0x2407,0x1e0f,0x7,0x120f,0x160b,0x1a17,0x7917,0x2413,0x1317,0x1203,0x1e1f,0x170b,0x7d0f,0x7d03,0x3e0f,0x2003,0x2003,0x1317,0x1203,0x1e0f,0x130b,0x117,0xb,0x780f,0x2003,0x2007,0x1e0f,0x1207,0x1e07,0x1303,0x2403,0x2a0f,0x7d03,0x7907,0x7d0f,0xba0b,0x1e0b,0xa07,0x7,0x240b,0x1627,0x4f13,0x1213,0x1e03,0xc07,0x7,0x160f,0x253f,0xba03,0xba03,0xba0b,0x196b,0x180f,0x4513,0x1b,0xb70b,0x5e13,0xf,0x4107,0xa007,0x13,0x180b,0x4107,0x203,0x1f17,0xb,0x8407,0x8103,0x800f,0x8107,0x4f23,0xb,0x7e23,0x7e07,0x8117,0x7213,0x7,0x8217,0x520b,0x7f07,0x8f17,0x4f07,0x4f07,0x3f,0x921b,0x7203,0x4f07,0x3b,0x811f,0x720f,0x7,0x882f,0x8107,0x520f,0x4f07,0x5207,0x9123,0x8a0b,0x811b,0x4f13,0x213,0x811b,0x4f0b,0x20f,0x8803,0x7817,0x4f13,0xf,0x10b,0x7803,0x781f,0xf,0x151f,0x180f,0x32b,0x291f,0x1013,0x1c03,0x1c03,0x3623,0x561b,0x1c03,0x1c03,0x1c13,0x500f,0x5f0f,0x17,0x1523,0x107,0x13,0x50b,0x4307,0x5603,0x5a0f,0x5613,0x3f13,0x830b,0x4407,0x4403,0x5603,0x5a0f,0x5613,0x2f,0x3f13,0x5a0f,0x560b,0x37,0x420b,0x5b0f,0x5603,0x70b,0x33,0x3f07,0x5603,0x5a0f,0x1303,0x70b,0x5b,0x5607,0x5607,0x27,0x6213,0xb17,0x5613,0x4327,0x5c07,0x440b,0x560b,0x5613,0x7033,0x5607,0xb07,0x13,0x127,0x607,0x603,0x270b,0x7,0x603,0x507,0x1f,0x270b,0x607,0x2703,0x703,0x7,0x713,0xd03,0x603,0x507,0x607,0x2707,0x703,0x703,0x707,0x1003,0xb03,0x707,0xb03,0xc07,0x1f0f,0x107,0x703,0x703,0x703,0x703,0x703,0x70b,0xb,0xb03,0xb03,0xb03,0xb03,0x40b,0xe07,0x207,0x30b,0x703,0x703,0x703,0x703,0x707,0xb,0xb03,0xb03,0xb03,0xb03,0x50f,0x1b,0x703,0x703,0x703,0x703,0x707,0xb,0xb03,0xb03,0xb07,0x703,0x50b,0x20f,0x80b,0x703,0x703,0x703,0x703,0x703,0x107,0x707,0xb07,0x703,0x703,0x703,0x270f,0x13,0x703,0x703,0x703,0x703,0x703,0xf,0x703,0x70b,0x71b,0x13,0x703,0x703,0x703,0x703,0x207,0x117,0x707,0xd07,0x607,0x7,0x607,0x2703,0x703,0xc0f,0xf,0xd03,0x707,0x603,0x507,0xb,0x717,0x913,0x603,0xb,0x80f,0x23,0xe17,0x2913,0xb,0x1407,0x13,0x3d07,0x6203,0xf0b,0x1f,0x191b,0x1b0f,0x13,0x3903,0x301f,0x1b0f,0x2f,0x3903,0x3923,0x1b0f,0x7,0x3323,0x3903,0x3937,0x3f,0x1917,0x6207,0xf07,0x2f,0x2c17,0x620f,0x3c07,0xb,0x493b,0x620f,0xf03,0xf07,0xb,0x371b,0x5e1b,0x620f,0xf03,0x6207,0x3613,0x141b,0x1903,0x6223,0x17,0x2913,0x7,0x2807,0x7,0x203,0x13,0x207,0x1b,0x70b,0x617,0x20b,0x2207,0x1b03,0xe27,0x280f,0x713,0x1f,0x270b,0x1f,0x707,0x7,0x703,0x72b,0xb,0x2a0b,0x607,0x60f,0x7,0x62f,0x2e1f,0x1f07,0x717,0x7,0x703,0x703,0x713,0x2b,0x703,0x703,0x717,0x7,0x703,0x703,0x703,0x703,0x70f,0x1d03,0x1d03,0x1e03,0x2d0b,0x70b,0x607,0x70b,0xb,0x703,0x703,0x703,0x703,0x217,0x1f,0x703,0x703,0x703,0x70b,0xb,0x703,0x703,0x703,0x71f,0x1e03,0x2b0f,0x703,0x703,0x703,0x703,0xb,0x703,0x703,0x703,0x703,0x223,0x2913,0x1f03,0x1f07,0x703,0x707,0xb,0x703,0x703,0x733,0x170b,0x703,0x70b,0x703,0x703,0x7,0x703,0x703,0x703,0x60b,0x72b,0x703,0x1f03,0x60f,0x70b,0xb,0x703,0x1f03,0x1f23,0x13,0x703,0x703,0x703,0x713,0xb,0x70b,0x723,0x1f,0x703,0x70b,0x1907,0x307,0x703,0x61b,0x103,0x1a1f,0x703,0xe0f,0xb,0x633,0xf,0x2227,0xd23,0x907,0x1a33,0x1307,0x627,0x1a03,0x2f0b,0x2203,0x1f0f,0x2f,0x1a0b,0x2203,0x1607,0x240b,0x40b,0x107,0x203,0x2a13,0xf,0x2803,0x7,0x190b,0x120f,0x13,0xf,0xf,0x1f,0x2403,0x17,0x140b,0x411b,0x2413,0x17,0x4103,0x4103,0x6c17,0x7413,0x827,0x4103,0x4203,0x6c17,0x2413,0x3e1f,0x4103,0x420b,0x4c23,0x7407,0x33,0x4203,0x420b,0x740b,0x7403,0x2403,0x37,0x4203,0x951b,0x740f,0xb,0x514f,0x7413,0x17,0x600b,0x170b,0x4b1f,0x2413,0x7,0x401b,0x462f,0x420b,0x817,0x13,0xb,0x113,0x7,0x1d03,0x13,0x1d07,0x23,0x207,0x70b,0x2007,0x1f,0x160f,0x713,0xf,0x1e13,0x27,0x107,0x107,0x211b,0x7,0xd2b,0x2017,0x803,0x107,0x33,0x1b,0x713,0x103f,0x17,0x703,0x717,0x7,0xc0f,0x81b,0x501b,0x703,0xc03,0x803,0x507,0x27,0x837,0x70b,0xc07,0x1407,0xb,0xc03,0xc03,0xc0f,0x13,0x3a17,0xc03,0x60f,0x907,0xb,0xc03,0xc03,0xc03,0xc1b,0x3a03,0x4a2f,0x80b,0x17,0xc03,0xc03,0xc13,0x390f,0x4a0f,0xc0b,0xc03,0xc0f,0xf,0xc03,0xc03,0xc17,0x3807,0xb,0x380f,0x80f,0xc0f,0xf,0xc03,0xc03,0xc07,0xb,0x5607,0x4a07,0x690b,0xc03,0xc03,0xc03,0x803,0x7,0xc03,0xc03,0xc03,0xc07,0xb,0x4a07,0xb,0x350b,0xc03,0xc17,0xb,0xc03,0xc03,0xc03,0x907,0x330b,0x4a03,0x4a03,0x4a03,0x2b17,0xc03,0xc03,0x803,0x17,0xc03,0xc1f,0x4a03,0x4a03,0x3417,0xc0b,0xc0f,0xb,0x907,0xc03,0xc03,0xc03,0x83b,0x61f,0x803,0xc03,0x807,0xc03,0xc2f,0x807,0x713,0x803,0xf,0xc03,0x80f,0x617,0x1b,0x70b,0x803,0x807,0xb,0x807,0xc23,0x27,0xd07,0xb07,0x803,0xd1b,0x1b0b,0x501f,0x803,0x803,0xf07,0x1107,0x1627,0x17,0x81b,0x32b,0x107,0x7,0xb1b,0xc07,0x1603,0x803,0x707,0xb0b,0x5013,0xc03,0x80b,0xd07,0x190b,0x1d03,0x107,0x5013,0x1e03,0xa0b,0x2b,0x5003,0x501b,0x1713,0x200b,0x501f,0x13,0x107,0x10f,0x17,0x17,0x1b,0x860f,0x1b,0x1b,0x4a03,0x6417,0x451b,0x4a13,0x13,0x4503,0x451b,0x4a13,0x3d0f,0x4607,0x4503,0x4503,0x451b,0x4a0b,0x7,0x4823,0x4503,0x4503,0x4a17,0x4a03,0x3407,0x4033,0x4423,0x3a07,0x1b,0x5d17,0x3e03,0x4c07,0x4a0b,0x4a03,0x4a03,0x3f,0x4d1f,0x4a03,0xb,0x5d2f,0x4013,0x4a03,0x4a13,0x4107,0x3e0b,0x6d0f,0x742b,0x510f,0x4513,0x7,0x631f,0x1f,0x13,0x7,0x107,0x1b,0x7,0x10f,0x17,0x3207,0x1b,0x1e17,0x3507,0x13,0x260b,0x1f,0x3207,0xf,0x3413,0xf,0x1f03,0xc13,0xf,0x2f17,0xf,0x603,0x1f1b,0x3507,0x3413,0xb2f,0x1f,0x80f,0x11b,0x613,0x17,0x613,0xb,0x80b,0x200f,0x40b,0x2a2f,0x10f,0x613,0xc17,0x2a17,0x60f,0x803,0x807,0xb,0x607,0x723,0x113,0x707,0x703,0x703,0x613,0x7,0x907,0x703,0x643,0x703,0x703,0x613,0x13,0x907,0x71b,0x531f,0x607,0x71b,0xb,0xf07,0x903,0x723,0x5303,0x5303,0x3a13,0x703,0x703,0x90f,0xb,0xf07,0x903,0x903,0x70f,0x5313,0x531b,0x703,0x713,0x7,0x903,0x903,0x903,0x917,0x4e07,0x5303,0x5117,0x703,0x707,0x807,0xb,0x903,0x903,0x707,0x70f,0x6d07,0x5303,0x5213,0x703,0x703,0x903,0x807,0xb,0xf07,0x903,0x907,0xb,0x5307,0xb,0x4f0b,0x703,0x703,0x703,0x903,0xb07,0x17,0x903,0x903,0x90f,0x6703,0x6d0b,0x531b,0x71b,0x17,0x903,0x703,0x713,0x6703,0x6707,0x4f0f,0x703,0x703,0x703,0x90f,0x1217,0x261f,0x5303,0x531b,0x703,0x703,0x713,0x903,0x1b57,0x703,0x703,0x703,0x60b,0x2f,0xc0f,0x170f,0x703,0x703,0x717,0x1503,0x1b37,0x17,0x703,0x607,0x803,0x27,0x1613,0x6a17,0x703,0x813,0x1503,0x1503,0x1503,0x1523,0x17,0x607,0x707,0xf,0x2207,0x1b07,0x1707,0x1103,0x1f,0x507,0x2307,0x150f,0x1307,0x1003,0x1103,0x6a03,0x417,0x2b07,0x2407,0x1517,0x1003,0x1007,0x23,0x2913,0x1303,0x1807,0x1003,0x111b,0x2603,0x250f,0x3107,0x1c07,0x1007,0x2a03,0x217,0x13,0x130f,0x100f,0x320b,0x1b,0x1003,0x110b,0x1c0b,0x1003,0x1107,0x800f,0x1113,0x13,0x13,0x7,0x1c0f,0x5d1b,0x4d0f,0x5507,0x5e03,0x5e03,0x5d1b,0x4d13,0x7,0x5d1f,0x5e03,0x5e03,0x591b,0x4d13,0x2f,0x5e03,0x5d07,0x4413,0x4d13,0x43,0x8f13,0x4603,0x4d03,0x43,0x4407,0x4307,0x4d13,0x2b,0x4e2f,0x4b03,0x4d07,0x17,0x8c0f,0x5e2f,0x4d03,0x4d0b,0x5607,0x7d2f,0x5e1b,0x4d07,0x5c07,0x7,0x1c03,0x1813,0x5103,0x5103,0x5103,0x510b,0x13,0x207,0x1a07,0x1a0f,0x323,0x307,0x20b,0xf,0x350f,0x417,0x4b0f,0x2a07,0x3003,0x3517,0x203,0x213,0x3a07,0x2b03,0x270f,0x1f13,0x203,0x213,0xaa0f,0x10b,0x2203,0x1d07,0x3b0f,0x203,0x207,0x4307,0xaa17,0xb,0x2203,0x210f,0x60b,0x203,0x213,0xaa0f,0x2207,0x2203,0x2207,0x3513,0x203,0x217,0x3807,0x140f,0x2307,0x2203,0x2207,0x210f,0x407,0x203,0x4403,0x4307,0x3813,0x140b,0x7,0x1d07,0x2217,0x400b,0x207,0x440b,0x380b,0x1813,0x1a07,0x1207,0x1d07,0x1103,0x3413,0x103,0x440b,0x3807,0x151f,0x1f,0x2d03,0x251b,0x440f,0x1513,0x1b13,0x7,0x1203,0x122f,0x507,0x1b03,0x1807,0x1503,0x1b13,0x407,0x125b,0x1823,0x43,0x5b03,0x5733,0x140b,0x1f,0x201b,0x5703,0x5717,0x140f,0x1b17,0x3b,0x6647,0x1307,0xb,0x120f,0x2007,0x17,0xb,0x560b,0x201b,0x1407,0xb,0x1407,0x202b,0x5b03,0x572f,0x17,0x2003,0x2023,0x23,0x151f,0x17,0x2003,0x2003,0x200f,0x6603,0x5207,0x571f,0x141b,0x1407,0x200b,0x2027,0x6603,0x540f,0x1b27,0x1403,0x1453,0x1807,0x151b,0x2017,0x1503,0x1803,0x1523,0x1803,0x180b,0x1417,0x1403,0x1537,0x1f,0x1b0f,0x1433,0x23,0x1803,0x130b,0x70f,0x2913,0x710b,0x7103,0x72b,0x1303,0x2923,0x13,0x1507,0x1303,0x2d03,0x2d07,0x2e1b,0x7,0x707,0x3813,0x2e2b,0x7,0xc0f,0x1407,0xb,0x2f0b,0xd07,0x7,0xd17,0x13,0x4307,0x4407,0x3a0b,0xb,0x430b,0x113,0x103,0x103,0x9b07,0x9003,0x8807,0xb,0xb,0x8807,0x13,0xb,0x160f,0x6217,0x530b,0x107,0x611b,0x6203,0x6203,0x621f,0x530f,0x7,0x6227,0x6203,0x611f,0x580f,0x37,0x6223,0x580f,0x7,0x6823,0x6203,0xb623,0x530f,0xb,0x7e4b,0x4e13,0x2b,0x622f,0x4c03,0x4c07,0x1b,0x7b13,0x6b23,0x4d13,0xb,0x303,0x323,0x4c03,0x5303,0x403,0x31b,0x5407,0x5803,0x550f,0x207,0x1b,0x5803,0x550f,0x33,0x3017,0x1603,0x1603,0x1603,0x213,0x27,0x403,0x403,0x41f,0x1b,0x350b,0x403,0x1307,0x403,0x20b,0x340f,0x1d07,0x1a03,0x250b,0x4313,0x1007,0x413,0x190f,0x417,0x2717,0x1707,0x1003,0x130b,0x341b,0x1707,0x1b2f,0x1703,0xf03,0x100b,0xab1f,0x1307,0x1b03,0x1b27,0x1d07,0x1703,0x1707,0xab27,0x1b,0x1b07,0x2d0b,0x1d03,0x1d03,0x1d0f,0xab1f,0x1407,0x423,0x2003,0x1d0f,0x1e0f,0x3b03,0x252f,0x33,0x1d07,0x1f03,0x1f03,0x1e07,0x3b33,0xb,0xb7b,0x7,0x191f,0x2f13,0x5c1f,0x2317,0xb0f,0xb03,0xb03,0x1917,0x2f23,0x5c0f,0x2327,0x7,0xb07,0xb13,0x100b,0x5c07,0xb,0x590b,0x2003,0x917,0xb,0xb07,0x190f,0x1017,0x5613,0x2017,0xb0b,0xb,0x1903,0x1903,0xb0b,0x390b,0x5c0b,0x5517,0x90b,0x917,0xb23,0x2027,0x7007,0x202b,0xe07,0x190b,0x90f,0x417,0x582b,0xd0b,0xb03,0x1963,0x907,0x1207,0x23,0x250f,0x403,0x43b,0x7,0x1427,0x1603,0x1607,0x707,0x141f,0x7,0x1b03,0xd17,0x503,0x503,0x513,0x1417,0x27,0x7,0xe07,0x2e0f,0x1b,0x107,0x17,0x3d07,0x11b,0x17,0xb,0x8e0b,0x13,0xf,0x13,0x7,0x40f,0x7307,0x4b0b,0x17,0x6203,0x6203,0x6203,0x6203,0x2603,0x210b,0x4a0f,0x5d07,0x641b,0x6203,0x6203,0x621b,0x7313,0xf,0x7d1f,0x6203,0x6113,0x7307,0x510f,0xb,0x6327,0x6203,0x602f,0x5f,0x490f,0x2b,0x612b,0x4c13,0xb,0x781b,0x6c2f,0x730f,0x507,0x6107,0x42f,0x4c03,0x4c07,0x1303,0x131b,0x580b,0x4b03,0x5803,0x2b,0x5803,0x5803,0x580b,0x3};

    std::stringstream ss;
    auto bitstream = smk::encoder::bitstream(ss);

    auto huffman_tree = smk::encoder::huffman_tree<uint16_t>(bitstream);

    for (const auto &c : text) {
        huffman_tree.write(c);
    }

    huffman_tree.switch_to_write_mode();

    huffman_tree.pack();

    for (const auto &c : text) {
        huffman_tree.write(c);
    }

    bitstream.flush();

    smk::decoder decoder(ss, true);
    decoder._init_bitstream();
    auto huff16 = decoder._build_hoff16();

    for (const auto &c : text) {
        expect_eq(decoder._lookup_hoff16(huff16), c);
    }
}

int main() {
    test_pack();
    test_decode8();
    test_decode16();

    return 0;
}
